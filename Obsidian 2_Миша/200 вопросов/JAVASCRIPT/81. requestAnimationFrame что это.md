requestAnimationFrame - позволяет выполнять переданный колбэк, перед обновлением интерфейса и стадией layout в браузере. Нужен для задач, которые нужно выполнить перед обновлением следующего кадра. Его плюс в том, что он не будет вызываться чаще или реже, чем браузер выполняет layout.